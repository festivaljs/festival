{"version":3,"file":"festival.min.js","sources":["../index.js"],"sourcesContent":["import holiday from \"./chn/holiday.json\";\nimport legal from \"./chn/legal.json\";\nimport swap from \"./chn/swap.json\";\n\n// 等待用装饰器进行优化\nclass Festival {\n  constructor() {\n    const _this = this;\n    return new Proxy(_this, {\n      get(target, prop) {\n        let value = target[prop];\n        if (typeof value === \"function\") {\n          value = value.bind(_this);\n          if (value !== \"invalid\") {\n            return (date, ...args) => {\n              if (_this.invalid(date)) {\n                throw new Error(\"invalid parameter\") \n              }\n              return value(date, ...args);\n            }\n          } else {\n            return value;\n          }\n        } else {\n          return value;\n        }\n      }\n    })\n  }\n  invalid(date) {\n    return date > 20231230 || date < 20070101;\n  }\n  day(date) {\n    return {\n      date,\n      name: holiday[date] === undefined ? \"非假期\" : holiday[date],\n      isHoliday: holiday[date] === undefined ? false : true,\n      isLegal: legal.includes(date),\n      isSwap: swap.includes(date),\n    }\n  }\n  // 假期名称\n  name(date) {\n    return holiday[date] === undefined ? \"非假期\" : holiday[date];\n  }\n  // 是否为假期节假日\n  isHoliday(date) {\n    return holiday[date] === undefined ? false : true;\n  }\n  // 是否为法定节假日\n  isLegal(date) {\n    return legal.includes(date);\n  }\n  // 是否为调休日\n  isUnhappy(date) {\n    return swap.includes(date);\n  }\n}\nexport default Festival;"],"names":["constructor","_this","this","Proxy","get","target","prop","value","bind","date","args","invalid","Error","day","name","undefined","holiday","isHoliday","isLegal","legal","includes","isSwap","swap","isUnhappy"],"mappings":"mzTAKA,MACEA,cACE,MAAMC,EAAQC,KACd,OAAO,IAAIC,MAAMF,EAAO,CACtBG,IAAIC,EAAQC,GACV,IAAIC,EAAQF,EAAOC,GACnB,MAAqB,mBAAVC,GACTA,EAAQA,EAAMC,KAAKP,GACL,YAAVM,EACK,CAACE,KAASC,KACf,GAAIT,EAAMU,QAAQF,GAChB,MAAM,IAAIG,MAAM,qBAElB,OAAOL,EAAME,KAASC,EAAK,EAGtBH,GAGFA,CAEV,GAEJ,CACDI,QAAQF,GACN,OAAOA,EAAO,UAAYA,EAAO,QAClC,CACDI,IAAIJ,GACF,MAAO,CACLA,OACAK,UAAwBC,IAAlBC,EAAQP,GAAsB,MAAQO,EAAQP,GACpDQ,eAA6BF,IAAlBC,EAAQP,GACnBS,QAASC,EAAMC,SAASX,GACxBY,OAAQC,EAAKF,SAASX,GAEzB,CAEDK,KAAKL,GACH,YAAyBM,IAAlBC,EAAQP,GAAsB,MAAQO,EAAQP,EACtD,CAEDQ,UAAUR,GACR,YAAyBM,IAAlBC,EAAQP,EAChB,CAEDS,QAAQT,GACN,OAAOU,EAAMC,SAASX,EACvB,CAEDc,UAAUd,GACR,OAAOa,EAAKF,SAASX,EACtB"}