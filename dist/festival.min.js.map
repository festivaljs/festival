{"version":3,"file":"festival.min.js","sources":["../index.js"],"sourcesContent":["import holiday from './chn/holiday.json'\nimport legal from './chn/legal.json'\nimport swap from './chn/swap.json'\n\nclass Festival {\n  // 构造函数中初始化一些公共变量\n  constructor() {\n    // 国家制定的最早和最晚的一个假期日期\n    this.START_DATE = 20070101\n    this.END_DATE = 20231230\n    // 缓存 legal 和 swap 数组\n    this.legalSet = new Set(legal)\n    this.swapSet = new Set(swap)\n  }\n\n  // 判断日期是否符合要求（限制在指定日期范围内）\n  isValidDate(date) {\n    return date >= this.START_DATE && date <= this.END_DATE\n  }\n\n  // 获取假期名称\n  getHolidayName(date) {\n    return holiday[date] || '非假期'\n  }\n\n  // 获取假期集合\n  getHolidaySet() {\n    return new Set(Object.keys(holiday))\n  }\n\n  // 是否为法定节假日\n  isLegalHoliday(date) {\n    return this.legalSet.has(date)\n  }\n\n  // 是否为调休日\n  isSwapHoliday(date) {\n    return this.swapSet.has(date)\n  }\n\n  // 获取日期信息\n  getDayInfo(date) {\n    if (!this.isValidDate(date)) {\n      return 'invalid'\n    }\n    const holidaySet = this.getHolidaySet()\n    const isHoliday = holidaySet.has(date)\n    const name = this.getHolidayName(date)\n    const isLegal = this.isLegalHoliday(date)\n    const isSwap = this.isSwapHoliday(date)\n    return { date, name, isHoliday, isLegal, isSwap }\n  }\n\n  // 对外暴露的方法\n  day = (date) => this.getDayInfo(date)\n  name = (date) => this.getHolidayName(date)\n  isHoliday = (date) => this.getDayInfo(date).isHoliday\n  isLegal = (date) => this.isLegalHoliday(date)\n  isSwap = (date) => this.isSwapHoliday(date)\n}\n\nexport default new Festival()\n"],"names":["constructor","this","START_DATE","END_DATE","legalSet","Set","legal","swapSet","swap","isValidDate","date","getHolidayName","holiday","getHolidaySet","Object","keys","isLegalHoliday","has","isSwapHoliday","getDayInfo","isHoliday","name","isLegal","isSwap","day"],"mappings":"mzTA6De,IAzDf,MAEEA,cAEEC,KAAKC,WAAa,SAClBD,KAAKE,SAAW,SAEhBF,KAAKG,SAAW,IAAIC,IAAIC,GACxBL,KAAKM,QAAU,IAAIF,IAAIG,EACxB,CAGDC,YAAYC,GACV,OAAOA,GAAQT,KAAKC,YAAcQ,GAAQT,KAAKE,QAChD,CAGDQ,eAAeD,GACb,OAAOE,EAAQF,IAAS,KACzB,CAGDG,gBACE,OAAO,IAAIR,IAAIS,OAAOC,KAAKH,GAC5B,CAGDI,eAAeN,GACb,OAAOT,KAAKG,SAASa,IAAIP,EAC1B,CAGDQ,cAAcR,GACZ,OAAOT,KAAKM,QAAQU,IAAIP,EACzB,CAGDS,WAAWT,GACT,IAAKT,KAAKQ,YAAYC,GACpB,MAAO,UAET,MACMU,EADanB,KAAKY,gBACKI,IAAIP,GAIjC,MAAO,CAAEA,OAAMW,KAHFpB,KAAKU,eAAeD,GAGZU,YAAWE,QAFhBrB,KAAKe,eAAeN,GAEKa,OAD1BtB,KAAKiB,cAAcR,GAEnC,CAGDc,IAAOd,GAAST,KAAKkB,WAAWT,GAChCW,KAAQX,GAAST,KAAKU,eAAeD,GACrCU,UAAaV,GAAST,KAAKkB,WAAWT,GAAMU,UAC5CE,QAAWZ,GAAST,KAAKe,eAAeN,GACxCa,OAAUb,GAAST,KAAKiB,cAAcR"}