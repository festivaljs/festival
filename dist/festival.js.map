{"version":3,"file":"festival.js","sources":["../index.js"],"sourcesContent":["import holiday from \"./chn/holiday.json\";\nimport legal from \"./chn/legal.json\";\nimport swap from \"./chn/swap.json\";\n\n// 等待用装饰器进行优化\nclass Festival {\n  constructor() {\n    const _this = this;\n    return new Proxy(_this, {\n      get(target, prop) {\n        let value = target[prop];\n        if (typeof value === \"function\") {\n          value = value.bind(_this);\n          if (value !== \"invalid\") {\n            return (date, ...args) => {\n              if (_this.invalid(date)) {\n                throw new Error(\"invalid parameter\") \n              }\n              return value(date, ...args);\n            }\n          } else {\n            return value;\n          }\n        } else {\n          return value;\n        }\n      }\n    })\n  }\n  invalid(date) {\n    return date > 20231230 || date < 20070101;\n  }\n  day(date) {\n    return {\n      date,\n      name: holiday[date] === undefined ? \"非假期\" : holiday[date],\n      isHoliday: holiday[date] === undefined ? false : true,\n      isLegal: legal.includes(date),\n      isSwap: swap.includes(date),\n    }\n  }\n  // 假期名称\n  name(date) {\n    return holiday[date] === undefined ? \"非假期\" : holiday[date];\n  }\n  // 是否为假期节假日\n  isHoliday(date) {\n    return holiday[date] === undefined ? false : true;\n  }\n  // 是否为法定节假日\n  isLegal(date) {\n    return legal.includes(date);\n  }\n  // 是否为调休日\n  isUnhappy(date) {\n    return swap.includes(date);\n  }\n}\nexport default Festival;"],"names":[],"mappings":"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"}