{"version":3,"file":"festival.js","sources":["../index.js"],"sourcesContent":["import holiday from './chn/holiday.json'\nimport legal from './chn/legal.json'\nimport swap from './chn/swap.json'\n\nclass Festival {\n  // 构造函数中初始化一些公共变量\n  constructor() {\n    // 国家制定的最早和最晚的一个假期日期\n    this.START_DATE = 20070101\n    this.END_DATE = 20231230\n    // 缓存 legal 和 swap 数组\n    this.legalSet = new Set(legal)\n    this.swapSet = new Set(swap)\n  }\n\n  // 判断日期是否符合要求（限制在指定日期范围内）\n  isValidDate(date) {\n    return date >= this.START_DATE && date <= this.END_DATE\n  }\n\n  // 获取假期名称\n  getHolidayName(date) {\n    return holiday[date] || '非假期'\n  }\n\n  // 获取假期集合\n  getHolidaySet() {\n    return new Set(Object.keys(holiday))\n  }\n\n  // 是否为法定节假日\n  isLegalHoliday(date) {\n    return this.legalSet.has(date)\n  }\n\n  // 是否为调休日\n  isSwapHoliday(date) {\n    return this.swapSet.has(date)\n  }\n\n  // 获取日期信息\n  getDayInfo(date) {\n    if (!this.isValidDate(date)) {\n      return 'invalid'\n    }\n    const holidaySet = this.getHolidaySet()\n    const isHoliday = holidaySet.has(date)\n    const name = this.getHolidayName(date)\n    const isLegal = this.isLegalHoliday(date)\n    const isSwap = this.isSwapHoliday(date)\n    return { date, name, isHoliday, isLegal, isSwap }\n  }\n\n  // 对外暴露的方法\n  day = (date) => this.getDayInfo(date)\n  name = (date) => this.getHolidayName(date)\n  isHoliday = (date) => this.getDayInfo(date).isHoliday\n  isLegal = (date) => this.isLegalHoliday(date)\n  isSwap = (date) => this.isSwapHoliday(date)\n}\n\nexport default new Festival()\n"],"names":[],"mappings":"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"}